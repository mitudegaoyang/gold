{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["i","RangePicker","DatePicker","Option","Select","Title","Typography","initValues","code","date","moment","subtract","options","colors","xAxis","type","mask","customConfig","label","style","fontSize","fill","yAxis","line","stroke","tooltip","reactContent","title","data","className","direction","map","item","key","name","color","text","value","extra","App","Form","useForm","form","useState","initialValues","setInitialValues","setData","canRender","setCanRander","goldList","getData","param","startDate","format","endDate","url","axios","get","then","res","str","Function","split","productName","formarData","time","price","priceDis","reverse","timeStr","Date","toLocaleDateString","q1","unit","d2","d3","q70","onSubmit","values","useEffect","textAlign","marginTop","marginBottom","align","width","height","src","alt","level","labelCol","span","wrapperCol","onFinish","Item","rules","required","message","offset","htmlType","onClick","resetFields","Wcontainer","padding","gutter","Wline","config","display","alignItems","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.0419a0a5.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Form,\n  Select,\n  DatePicker,\n  Button,\n  // InputNumber,\n  // Switch,\n  // Slider,\n  // Rate,\n  Typography,\n  Space,\n  Divider,\n  Badge,\n  Row,\n  Col\n} from 'antd';\nimport { Wcontainer, Wline } from '@alicloud/cloud-charts';\nimport moment from 'moment';\nimport axios from 'axios';\nimport './App.less';\n\nconst { RangePicker } = DatePicker;\nconst { Option } = Select;\nconst { Title } = Typography;\n\nconst initValues = { code: 'JO_42638', date: [moment().subtract(7, 'days'), moment()] };\nlet options = {\n  // stack: true,\n  // // size: 30,\n  // column: false,\n  // legend: false,\n  // padding: [10, 20, 30, 85],\n  // legend: {\n  //   position: 'right',\n  //   align: 'center',\n  // },\n  colors: ['#438BF7', '#00C5D0', '#F8B821', '#F2627B'],\n  xAxis: {\n    type: 'time',\n    mask: 'YYYY-MM-DD',\n    customConfig: {\n      label: {\n        style: {\n          fontSize: 14,\n          fill: '#575D6C'\n        }\n      }\n    }\n  },\n  yAxis: {\n    customConfig: {\n      // grid: null,\n      line: {\n        style: {\n          stroke: '#E4E7ED'\n        }\n      },\n      label: {\n        style: {\n          fontSize: 14,\n          fill: '#575D6C'\n        }\n      }\n    }\n  },\n  tooltip: {\n    reactContent: (title, data) => {\n      return (\n        <div className=\"customTooltip\">\n          <div className=\"toolTitle\">{title}</div>\n          <Space direction=\"vertical\">\n            {data.map((item) => {\n              return (\n                <div key={item?.name} className=\"toolContent\">\n                  <div>\n                    <Badge color={item.color} text={item.name} />：{item.value}\n                  </div>\n                  <div className=\"toolRatio\">\n                    {item?.data?.extra[0] ? `${item?.data?.extra[0]}` : '-'}\n                  </div>\n                </div>\n              );\n            })}\n          </Space>\n        </div>\n      );\n    }\n  }\n  // label: {\n  //   'position': 'middle'\n  // }\n};\n\nconst App = () => {\n  const [form] = Form.useForm();\n  const [initialValues, setInitialValues] = useState({});\n  const [data, setData] = useState(null);\n  const [canRender, setCanRander] = useState(false);\n  let goldList = [\n    {\n      name: '趋势图',\n      data: []\n    }\n  ];\n  // 金投网\n  // http://quote.cngold.org/gjs/swhj_cb.html\n  // 新浪财经\n  // https://vip.stock.finance.sina.com.cn/q//view/vGold_Matter_History.php?page=1&pp=5&pz=11&start=2022-01-01&end=2022-12-31\n\n  const getData = (param) => {\n    let startDate = moment(param.date[0]).format('YYYY-MM-DD');\n    let endDate = moment(param.date[1]).format('YYYY-MM-DD');\n    let url = `https://api.jijinhao.com/quoteCenter/history.htm?style=3&needField=128,129,70&pageSize=999&currentPage=1&code=${param.code}&startDate=${startDate}&endDate=${endDate}`;\n\n    axios.get(url).then((res) => {\n      let str = res.data;\n      let data = new Function('return ' + str.split('=')[1])();\n      // console.log(data);\n      goldList[0].name = data.productName;\n      goldList[0].data = formarData(data).map((item) => {\n        return [item.time, item.price, item.priceDis];\n      });\n      setData(goldList);\n      // console.log(JSON.stringify(goldList));\n    });\n  };\n\n  const formarData = (data) => {\n    return data.data.reverse().map((item) => {\n      let obj = {\n        time: item.time,\n        timeStr: new Date(item.time).toLocaleDateString(),\n        name: '菜百',\n        productName: data.productName,\n        price: item.q1,\n        unit: data.unit,\n        d2: '-',\n        d3: '另计',\n        priceDis: item.q70 > 0 ? '涨' : item.q70 < 0 ? '跌' : '平'\n      };\n      return obj;\n    });\n  };\n\n  const onSubmit = async (values) => {\n    getData(values);\n  };\n\n  const onReset = () => {\n    form.resetFields();\n    onSubmit(initValues);\n  };\n\n  useEffect(() => {\n    setInitialValues(initValues);\n    onSubmit(initValues);\n    setCanRander(true);\n  }, []);\n\n  if (!canRender) {\n    return null;\n  }\n\n  return (\n    <>\n      <section style={{ textAlign: 'center', marginTop: 48, marginBottom: 40 }}>\n        <Space align=\"start\">\n          <img\n            style={{ width: 40, height: 40 }}\n            src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"\n            alt=\"Ant Design\"\n          />\n          <Title level={2} style={{ marginBottom: 0 }}>\n            贵金属走势\n          </Title>\n        </Space>\n      </section>\n      <Divider style={{ marginBottom: 60 }}>Form</Divider>\n      <Form\n        form={form}\n        labelCol={{ span: 8 }}\n        wrapperCol={{ span: 8 }}\n        initialValues={initialValues}\n        onFinish={onSubmit}\n      >\n        <Form.Item label=\"品牌\" name=\"code\" rules={[{ required: true, message: '请选择品牌!' }]}>\n          <Select style={{ width: 192 }}>\n            <Option value=\"JO_42638\">菜百</Option>\n            <Option value=\"JO_42660\">周大福</Option>\n            <Option value=\"JO_42657\">老凤祥</Option>\n            <Option value=\"JO_42653\">周六福</Option>\n            <Option value=\"JO_42625\">周生生</Option>\n            <Option value=\"JO_42646\">六福珠宝</Option>\n          </Select>\n        </Form.Item>\n        <Form.Item\n          label=\"起止日期\"\n          name=\"date\"\n          rules={[{ required: true, message: '请输入起止日期!' }]}\n        >\n          <RangePicker />\n        </Form.Item>\n        {/* <Form.Item label=\"数字输入框\">\n          <InputNumber min={1} max={10} defaultValue={3} />\n          <span className=\"ant-form-text\"> 台机器</span>\n          <a href=\"https://ant.design\">链接文字</a>\n        </Form.Item>\n        <Form.Item label=\"开关\">\n          <Switch defaultChecked />\n        </Form.Item>\n        <Form.Item label=\"滑动输入条\">\n          <Slider defaultValue={70} />\n        </Form.Item>\n        <Form.Item label=\"日期范围选择框\">\n          <DatePicker.RangePicker />\n        </Form.Item>\n        <Form.Item label=\"评分\">\n          <Rate defaultValue={5} />\n        </Form.Item> */}\n        <Form.Item wrapperCol={{ span: 8, offset: 8 }}>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Submit\n            </Button>\n            <Button onClick={onReset}>Cancel</Button>\n          </Space>\n        </Form.Item>\n      </Form>\n      <Wcontainer style={{ padding: '0 8px' }} className=\"eduNumDistribute\">\n        <Row gutter={10}>\n          <Col span={22}>\n            <Wline height=\"215\" config={options} data={data} />\n          </Col>\n          <Col span={2} style={{ display: 'flex', alignItems: 'end' }}>\n            <span style={{ fontSize: '14px', color: '#575D6C' }}>数量</span>\n          </Col>\n        </Row>\n      </Wcontainer>\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}